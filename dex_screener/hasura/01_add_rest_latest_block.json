{
    "type": "bulk",
    "source": "default",
    "args": [
        {
            "type": "add_query_to_collection",
            "args": {
                "collection_name": "allowed-queries",
                "query_name": "LatestBlock",
                "query": "query LatestBlock { block: dex_block(order_by: {level: desc}, where: {dex_swap_events: {id: {_is_null: false}}}, limit: 1) { blockNumber: level blockTimestamp: timestamp }}"
            }
        },
        {
            "type": "create_rest_endpoint",
            "args": {
                "name": "LatestBlock",
                "url": "latest-block",
                "definition": {
                    "query": {
                        "query_name": "LatestBlock",
                        "collection_name": "allowed-queries"
                    }
                },
                "methods": [
                    "GET"
                ],
                "comment": ""
            }
        }
    ]
}
